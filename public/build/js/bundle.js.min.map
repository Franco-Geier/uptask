{"version":3,"sources":["tasks.js"],"names":["closeModal","modal","escListener","querySelector","classList","add","setTimeout","remove","document","removeEventListener","addEventListener","createElement","innerHTML","requestAnimationFrame","e","target","contains","preventDefault","createModal","body","appendChild","focus","handleEscape","key"],"mappings":"CACA,WA2DA,SAAAA,EAAAC,EAAAC,EAAA,MACAD,EAAAE,cAAA,SACAC,UAAAC,IAAA,SAEAC,WAAA,KACAL,EAAAM,SACAL,GACAM,SAAAC,oBAAA,UAAAP,IAEA,KAnEAM,SAAAL,cAAA,aACAO,iBAAA,SAEA,WACA,MAAAT,EAUA,WACA,MAAAA,EAAAO,SAAAG,cAAA,OAwCA,OAvCAV,EAAAG,UAAAC,IAAA,SAEAJ,EAAAW,UAAA,kzBAwBAC,sBAAA,KACAZ,EAAAE,cAAA,SAAAC,UAAAC,IAAA,aAGAJ,EAAAS,iBAAA,SAAA,SAAAI,IAEAA,EAAAC,OAAAX,UAAAY,SAAA,gBACAF,EAAAC,OAAAX,UAAAY,SAAA,YAEAF,EAAAG,iBACAjB,EAAAC,OAGAA,EAnDAiB,GACAV,SAAAW,KAAAC,YAAAnB,GACAO,SAAAL,cAAA,SAAAkB,QAEA,MAAAC,EAAAR,IACA,WAAAA,EAAAS,KAAAvB,EAAAC,EAAAqB,IAEAd,SAAAE,iBAAA,UAAAY,MAZA","file":"bundle.js","sourcesContent":["// IIFE\r\n(function() {\r\n    const newTaskBtn = document.querySelector(\"#add-task\"); // Boton para mostrar el modal de agregar tarea\r\n    newTaskBtn.addEventListener(\"click\", showForm);\r\n\r\n    function showForm() {\r\n        const modal = createModal();\r\n        document.body.appendChild(modal); // Lo agrega al Body\r\n        document.querySelector(\"#task\").focus(); // Focus para el input\r\n    \r\n        const handleEscape = (e) => { //Arrow function si el usuario presiona ESC\r\n            if(e.key === \"Escape\") closeModal(modal, handleEscape);\r\n        };\r\n        document.addEventListener(\"keydown\", handleEscape);\r\n    }\r\n\r\n    function createModal() {\r\n        const modal = document.createElement(\"DIV\");\r\n        modal.classList.add(\"modal\");\r\n\r\n        modal.innerHTML = `\r\n            <form class=\"form new-task container\">\r\n                <legend>Añade una nueva tarea</legend>\r\n                <div class=\"field\">\r\n                    <label for=\"task\">Tarea</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"task\"\r\n                        placeholder=\"Añadir Tarea al Proyecto Actual\"\r\n                        id=\"task\"\r\n                    >\r\n                </div>\r\n\r\n                <div class=\"options\">\r\n                    <input\r\n                        type=\"submit\"\r\n                        class=\"submit-new-task\"\r\n                        value=\"Añadir Tarea\"\r\n                    >\r\n                    <button type=\"button\" class=\"close-modal\">Cancelar</button>\r\n                </div>\r\n            </form>\r\n        `;\r\n\r\n        requestAnimationFrame(() => {\r\n            modal.querySelector(\".form\").classList.add(\"animate\");\r\n        });\r\n\r\n        modal.addEventListener(\"click\", function(e) {\r\n            if(\r\n                e.target.classList.contains(\"close-modal\") ||\r\n                e.target.classList.contains(\"modal\")\r\n            ) {\r\n                e.preventDefault();\r\n                closeModal(modal);\r\n            }\r\n        });\r\n        return modal;\r\n    }\r\n\r\n    function closeModal(modal, escListener = null) {\r\n        const form = modal.querySelector(\".form\");\r\n        form.classList.add(\"close\");\r\n\r\n        setTimeout(() => {\r\n            modal.remove();\r\n            if(escListener) {\r\n                document.removeEventListener(\"keydown\", escListener);\r\n            }\r\n        }, 390);\r\n    }\r\n    \r\n    // function showForm() {\r\n    //     const modal = document.createElement(\"DIV\");\r\n    //     modal.classList.add(\"modal\");\r\n\r\n    //     modal.innerHTML = `\r\n    //         <form class=\"form new-task container\">\r\n    //             <legend>Añade una nueva tarea</legend>\r\n    //             <div class=\"field\">\r\n    //                 <label>Tarea</label>\r\n    //                 <input\r\n    //                     type=\"text\"\r\n    //                     name=\"task\"\r\n    //                     placeholder=\"Añadir Tarea al Proyecto Actual\"\r\n    //                     id=\"task\"\r\n    //                 >\r\n    //             </div>\r\n\r\n    //             <div class=\"options\">\r\n    //                 <input\r\n    //                     type=\"submit\"\r\n    //                     class=\"submit-new-task\"\r\n    //                     value=\"Añadir Tarea\"\r\n    //                 >\r\n    //                 <button type=\"button\" class=\"close-modal\">Cancelar</button>\r\n    //             </div>\r\n    //         </form>\r\n    //     `;\r\n\r\n    //     setTimeout(() => {\r\n    //         const form = document.querySelector(\".form\");\r\n    //         form.classList.add(\"animate\");\r\n    //     }, 0);\r\n\r\n    //     modal.addEventListener(\"click\", function(e) {\r\n    //         e.preventDefault();\r\n\r\n    //         if(e.target.classList.contains(\"close-modal\") || e.target.classList.contains(\"modal\")) {\r\n    //             const form = document.querySelector(\".form\");\r\n    //             form.classList.add(\"close\");\r\n\r\n    //             setTimeout(() => {\r\n    //                 modal.remove();\r\n    //             }, 390);\r\n    //         }\r\n    //     })\r\n\r\n    //     document.querySelector(\"body\").appendChild(modal);\r\n    //     document.querySelector(\"#task\").focus();\r\n\r\n    //     document.addEventListener(\"keydown\", handleEscape);\r\n\r\n    //     function handleEscape(e) {\r\n    //         if (e.key === \"Escape\") {\r\n    //             const form = document.querySelector(\".form\");\r\n    //             form.classList.add(\"close\");\r\n    //             setTimeout(() => {\r\n    //                 modal.remove();\r\n    //                 document.removeEventListener(\"keydown\", handleEscape); // Limpieza\r\n    //             }, 390);\r\n    //         }\r\n    //     }\r\n    // }\r\n    \r\n})();"]}